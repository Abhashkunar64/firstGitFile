<html>
<body>

    <h1>Expence Tracker</h1>
    <form id="expence-entry">
      <label for="Amount">Amount:</label>
      <input type="int" id="amount" name="amount" required>
      <label for="Description">Description:</label>
      <input type="text" id="description" name="description" required>
      <label for="Catagory">Catagory:</label>
      <input typr="text" id="catagory" name="catagory" required>
      <button type="submit">Submit</button>
    </form>

    <div id="expence-track">
      <h2>Expences</h2>
      <ul id="expence"></ul>
    </div>

    <script>
      const entry = document.getElementById("expence-entry");
      const expenceEntry = document.getElementById("expence");
      form.addEventListener("submit", function(event) {
        event.preventDefault();
        const expence = document.getElementById("amount").value;
        const description = document.getElementById("description").value;
        const catagory = document.getElementById("catagory").value;
        var exp = {
          expence: expence,
          description: description,
          catagory: catagory

        };
        var userString = JSON.stringify(exp);
        localStorage.setItem("exp", expString);
        alert("Your data has been saved in local storage!");

        var li = document.createElement("li");
        li.textContent = expence + description +" (" + dcatagory + ")";
        
        var btn1 = document.createElement("button");
        btn1.textContent = "Delete expence";

        var btn2 = document.createElement("button");
        btn2.textContent = "Edit expence";

        li.appendChild(btn1);
        li.appendChild(btn2);

        btn1.addEventListener("click", function() {
          expenceEntry.removeChild(li);
          localStorage.removeItem("exp");
          alert("Your data has been deleted");
        });

        btn2.addEventListener("click", function() {
          var newExpence = prompt("amount:", amount);
          var newDescription = prompt("description:", description);
          var newCatagory = prompt("catagory:", catagory);
          if (newEcpence && newDescription && newCatagory) {
            exp.expence = newExpence;
            exp.description = newDescription;
            exp.catagory= newCatagory;

            expString = JSON.stringify(exp);
            localStorage.setItem("exp", expString);
            alert("Your data has been updated in local storage!");
            li.textContent = newExpence + newDescription + " (" + newEmail + ")";
            li.appendChild(btn1);
            li.appendChild(btn2);
          }
        });

        userList.appendChild(li);

      });
    </script>
  </body>
  </html>
